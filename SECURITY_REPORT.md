# –û—Ç—á–µ—Ç –ø–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∞–¥–º–∏–Ω—Å–∫–∏—Ö –∫–æ–º–∞–Ω–¥

## ‚úÖ –ü–û–î–¢–í–ï–†–ñ–î–ï–ù–ò–ï –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–ò

–í—Å–µ –∞–¥–º–∏–Ω—Å–∫–∏–µ –∫–æ–º–∞–Ω–¥—ã **–ó–ê–©–ò–©–ï–ù–´** –∏ –±—É–¥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤ —Å ID: `7701476858, 8339838839`

## –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –∑–∞—â–∏—Ç–∞:

### 1. –ì–ª–æ–±–∞–ª—å–Ω—ã–π AdminFilter
```python
# –í routers.py
admin_filter_instance = AdminFilter(admin_ids=settings.ADMIN_IDS)
admin_main_router.message.filter(admin_filter_instance)
admin_main_router.callback_query.filter(admin_filter_instance)
```

### 2. AdminFilter –ø—Ä–æ–≤–µ—Ä—è–µ—Ç ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```python
# –í admin_filter.py
async def __call__(self, event: Union[Message, CallbackQuery], event_from_user: User) -> bool:
    return event_from_user.id in self.admin_ids
```

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∏ ADMIN_IDS –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø–∞—Ä—Å—è—Ç—Å—è
```python
# –í settings.py
@computed_field
@property
def ADMIN_IDS(self) -> List[int]:
    if self.ADMIN_IDS_STR:  # "7701476858,8339838839"
        return [int(admin_id.strip()) for admin_id in self.ADMIN_IDS_STR.split(',')]
    return []
```

## ‚úÖ –ó–∞—â–∏—â–µ–Ω–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:

**–í—Å–µ —ç—Ç–∏ –∫–æ–º–∞–Ω–¥—ã —Ä–∞–±–æ—Ç–∞—é—Ç –¢–û–õ–¨–ö–û –¥–ª—è –∞–¥–º–∏–Ω–æ–≤:**
- `/stats` ‚úÖ
- `/users_stats` ‚úÖ  
- `/revenue_stats` ‚úÖ
- `/sync_admin` ‚úÖ
- `/update_names` ‚úÖ
- `/update_all_names` ‚úÖ
- `/check_subs` ‚úÖ
- `/sync` ‚úÖ
- `/support_stats` ‚úÖ
- –í—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –∞–¥–º–∏–Ω—Å–∫–∏–µ –∫–æ–º–∞–Ω–¥—ã ‚úÖ

## üîß –£–ª—É—á—à–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:

1. **–£–±—Ä–∞–Ω—ã –¥—É–±–ª–∏—Ä—É—é—â–∏–µ —Ä—É—á–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏** - —Ç–µ–ø–µ—Ä—å –≤—Å—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –≤ AdminFilter
2. **–ï–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω—ã–π –ø–æ–¥—Ö–æ–¥** - –≤—Å–µ –∫–æ–º–∞–Ω–¥—ã –ø–æ–ª–∞–≥–∞—é—Ç—Å—è –Ω–∞ –æ–¥–∏–Ω –º–µ—Ö–∞–Ω–∏–∑–º —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
3. **–£–ø—Ä–æ—â–µ–Ω–Ω–∞—è –æ—Ç–ª–∞–¥–∫–∞** - –µ—Å–ª–∏ –Ω—É–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∞–¥–º–∏–Ω–æ–≤, –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è

## üö´ –ß—Ç–æ –ù–ï —Å–º–æ–∂–µ—Ç —Å–¥–µ–ª–∞—Ç—å –æ–±—ã—á–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:

- –õ—é–±—ã–µ –∫–æ–º–∞–Ω–¥—ã —Ç–∏–ø–∞ `/stats`, `/sync`, etc. –±—É–¥—É—Ç –ø—Ä–æ–∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω—ã
- Callback –∫–Ω–æ–ø–∫–∏ –∞–¥–º–∏–Ω—Å–∫–æ–π –ø–∞–Ω–µ–ª–∏ –Ω–µ –±—É–¥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å
- –î–æ—Å—Ç—É–ø –∫ –∞–¥–º–∏–Ω—Å–∫–∏–º —Ñ—É–Ω–∫—Ü–∏—è–º –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω

## üîê –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:

- –í—Å–µ –∫–æ–º–∞–Ω–¥—ã —Ä–∞–±–æ—Ç–∞—é—Ç —Ç–æ–ª—å–∫–æ –≤ –ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö —á–∞—Ç–∞—Ö: `F.chat.type == "private"`
- –§–∏–ª—å—Ç—Ä –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: `if not event_from_user: return False`
- –§–∏–ª—å—Ç—Ä –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ —Å–ø–∏—Å–∫–∞ –∞–¥–º–∏–Ω–æ–≤: `if not self.admin_ids: return False`

**–í–´–í–û–î: –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ–±–µ—Å–ø–µ—á–µ–Ω–∞! ‚úÖ**
